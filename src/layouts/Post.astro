---
import type { CollectionEntry } from "astro:content"
import type { MarkdownHeading } from "astro"
import Title from "../components/PageTitle.astro"
import TableOfContents from "../components/TableOfContents.astro"
import Base from "./Base.astro"

type BlogProps = CollectionEntry<"blog">
type TILProps = CollectionEntry<"til">
type ShareProps = CollectionEntry<"share">
type Props = (BlogProps | TILProps | ShareProps) & { headings: MarkdownHeading[] }

const { data, headings } = Astro.props
const { title, date, description = "" } = data
---

<Base title={title} description={description}>
  <Title title={title} date={date} description={description} />

  <article class="prose max-w-none">
    <slot />
  </article>

  {headings.length > 0 && <TableOfContents headings={headings} slot="toc" />}
</Base>
